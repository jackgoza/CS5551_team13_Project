{"version":3,"sources":["../../src/pages/list-master/list-master.module.ts","../../src/pages/list-master/list-master.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ListMasterPage } from \"./list-master\";\n\n@NgModule({\n  declarations: [\n    ListMasterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListMasterPage)\n  ],\n  exports: [\n    ListMasterPage\n  ]\n})\nexport class ListMasterPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.module.ts","import { Component } from '@angular/core';\nimport {ActionSheetController, AlertController, IonicPage, NavController, LoadingController, Loading} from 'ionic-angular';\nimport { APIInfoPage } from \"../APIinfo/APIinfo\";\nimport {Camera, CameraOptions} from \"@ionic-native/camera\";\n\nimport { GoogleCloudVisionServiceProvider} from \"../../providers/google-cloud-vision-service/google-cloud-vision-service\";\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabase, AngularFireList, AngularFireObject } from 'angularfire2/database';\nimport {WalmartLab} from \"../../services/rest/walmartLab\";\nimport {AmazonAws} from \"../../services/rest/amazon\";\n\n// @ts-ignore\n@IonicPage()\n@Component({\n  selector: 'page-list-master',\n  templateUrl: 'list-master.html'\n})\nexport class ListMasterPage {\n  Dresult=[];\n  apiItems: Array<any>;\n  picItems: Array<any>;\n  loading: Loading;\n  PicItems: AngularFireList<any>;\n  constructor(\n    private vision: GoogleCloudVisionServiceProvider,\n    private afdb: AngularFireDatabase,\n    private alert: AlertController,\n    public navCtrl: NavController,\n    private walmartLab: WalmartLab,\n    private amazonAWS: AmazonAws,\n    public camera: Camera,\n    private actionSheetCtrl: ActionSheetController,\n    public loadingCtrl: LoadingController) {\n    this.PicItems = afdb.list('items');\n  }\n  Pictake1() {\n    // @ts-ignore\n    this.actionSheetCtrl.create({\n      buttons:[\n        {\n          text: 'From Camera',\n          handler: async () => {\n            try {\n              const options: CameraOptions = {\n                quality: 50,\n                targetHeight: 600,\n                targetWidth: 600,\n                destinationType: this.camera.DestinationType.DATA_URL,\n                encodingType: this.camera.EncodingType.PNG,\n                mediaType: this.camera.MediaType.PICTURE,\n              };\n              this.camera.getPicture(options).then((imageData) => {\n                this.showLoader();\n                this.vision.getLabels(imageData).subscribe((result) => {\n                  // @ts-ignore\n                  this.Dresult =  result.responses[0].webDetection.webEntities;\n                  this.picItems = this.Dresult;\n                  this.saveResults(imageData, this.Dresult);\n                  this.loading.dismissAll()\n\n                }, err => {\n                  this.showAlert(err);\n                });\n              }, err => {\n                this.showAlert(err);\n              });\n            }\n            catch (e) {\n              console.error(e);\n            }\n          }\n        },\n        {\n          text: 'From Gallery',\n          handler: async () => {\n            try {\n              const options: CameraOptions = {\n                quality: 100,\n                targetHeight: 600,\n                targetWidth: 600,\n                sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n                destinationType: this.camera.DestinationType.DATA_URL,\n                encodingType: this.camera.EncodingType.PNG,\n              };\n              this.camera.getPicture(options).then((imageData) => {\n                this.showLoader();\n                this.vision.getLabels(imageData).subscribe((result) => {\n                  // @ts-ignore\n                  this.Dresult =  result.responses[0].webDetection.webEntities;\n                  this.picItems = this.Dresult;\n                  this.saveResults(imageData, this.Dresult);\n                  this.loading.dismissAll()\n                  }, err => {\n                  this.showAlert(err);\n                });\n              }, err => {\n                this.showAlert(err);\n              });\n\n            }\n            catch (e) {\n              console.error(e);\n            }\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'Cancel',\n          handler: () => {\n            console.log(\"The user has selected the cancel button\");\n          }\n        }\n      ]\n    }).present();\n  }\n\n  searchForapiItems(event, key) {\n    if(event.target.value.length > 3) {\n      this.walmartLab.searchapiItems(event.target.value).subscribe(\n        data => {\n          this.apiItems = data.items;\n          console.log(data);\n        },\n        err => {\n          console.log(err);\n        },\n        () => console.log('Product Search Complete')\n      );\n    }\n  }\n\n  selectapiItem(event, apiItem) {\n    console.log(apiItem);\n    this.navCtrl.push(APIInfoPage, {\n      apiItem: apiItem\n    });\n  }\n  selectapiItem1(event, picItem) {\n    this.showLoader();\n    this.walmartLab.searchapiItems(picItem.description).subscribe(\n      data => {\n        this.apiItems = data.items[0];\n        console.log(data);\n      },\n      err => {\n        console.log(err);\n      },\n      () => console.log('Product Search Complete')\n    );\n    setTimeout(()=>{\n      this.loading.dismissAll();\n      this.navCtrl.push(APIInfoPage, {\n        apiItem: this.apiItems\n      });\n    },1000);\n  }\n\n  saveResults(imageData, results) {\n    this.PicItems.push({ imageData: imageData, results: results})\n      .then(_ => { })\n      // .catch(err => { this.showAlert(err) });\n  }\n  showAlert(message) {\n    let alert = this.alert.create({\n      title: 'Error',\n      subTitle: message,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n  deleteResult(i) {\n    this.afdb.list(\"/items/\").remove(this.PicItems[i]);\n  }\n  showLoader(){\n    this.loading = this.loadingCtrl.create({\n      content:'Loading...'\n    });\n    this.loading.present();\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.ts"],"sourceRoot":""}